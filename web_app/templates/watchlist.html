{% extends "bootstrap5_layout.html" %}
{% block content %}
  <h2>Watchlist</h2>

  <form method="POST" action="/watchlist/add" class="row g-3 mt-1">
    <div class="col-md-6">
      <label class="form-label">Add Symbol</label>
      <input name="symbol" class="form-control" placeholder="NFLX" required />
    </div>

    <div class="col-12">
      <button class="btn btn-success" type="submit">Add</button>
    </div>
  </form>

  <hr/>

  {% if symbols|length == 0 %}
    <p class="text-muted">No symbols yet.</p>
  {% else %}
    <ul class="list-group">
      {% for sym in symbols %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ sym }}</strong>
            <a class="ms-2" href="/stocks/dashboard?symbol={{ sym }}">Open dashboard</a>
          </div>

          <form method="POST" action="/watchlist/remove">
            <input type="hidden" name="symbol" value="{{ sym }}"/>
            <button class="btn btn-outline-danger btn-sm" type="submit">Remove</button>
          </form>
        </li>
      {% endfor %}
    </ul>
  {% endif %}
{% endblock %}
